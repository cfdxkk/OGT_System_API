<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="OGTSystem.mapper.UserAuthMapper">
    <resultMap id="BaseResultMap" type="OGTSystem.entity.UserAuthEntity">
        <result column="UUID" property="UUID" jdbcType="VARCHAR"></result>
        <result column="UUNO" property="UUNO" jdbcType="VARCHAR"></result>
        <result column="user_token" property="userToken" jdbcType="VARCHAR"></result>
        <result column="user_attack_time" property="userAttackTime" jdbcType="VARCHAR"></result>
    </resultMap>
<!--    <resultMap id="BaseResultMap" type="OGTSystem.entity.UserInfoEntity">-->
<!--        <result column="UUID" property="UUID" jdbcType="VARCHAR" />-->
<!--        <result column="username" property="username" jdbcType="VARCHAR" />-->
<!--        <result column="password" property="password" jdbcType="VARCHAR" />-->
<!--        <result column="privacy_auth" property="privacyAuth" jdbcType="VARCHAR" />-->
<!--        <result column="user_avatar" property="userAvatar" jdbcType="VARCHAR" />-->
<!--        <result column="user_info" property="userInfo" jdbcType="VARCHAR" />-->
<!--        <result column="user_email" property="userEmail" jdbcType="VARCHAR" />-->
<!--        <result column="user_sex" property="userSex" jdbcType="VARCHAR" />-->
<!--        <result column="user_birthday" property="userBirthday" jdbcType="DATE" />-->
<!--        <result column="user_location" property="userLocation" jdbcType="VARCHAR" />-->
<!--    </resultMap>-->
<!--    &lt;!&ndash; 查询单条记录 &ndash;&gt;-->
    <select id="getUserTokenByUserInfoEntity" resultMap="BaseResultMap">
        SELECT
            UUID, UUNO, user_token, user_attack_time
        FROM user_auth
        WHERE 1 = 1
        <if test="UUID != null">
            AND UUID = #{UUID}
        </if>
    </select>

    <insert id="createUserAuth" parameterType="String">
        insert into user_auth(UUID, user_token)
        value(#{UUID,jdbcType=VARCHAR}, #{userToken,jdbcType=VARCHAR});
    </insert>
</mapper>